!function(){"use strict";var n={208:function(n,e,t){var r=t(354),a=t.n(r),o=t(314),i=t.n(o)()(a());i.push([n.id,"html,\nbody {\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  font-family: Arial, sans-serif;\n}\n\n.grid {\n  display: grid;\n}\n\n.gameBoards {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 25px;\n  padding: 10px;\n  justify-items: center;\n}\n\n#gameboard1 {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  border: 3px solid black;\n}\n\n#gameboard2 {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  border: 3px solid black;\n}\n\n.gameBoardContainer {\n  width: 80%;\n  aspect-ratio: 1 / 1;\n}\n\n#messages {\n  font-size: 1.5rem;\n  padding: 0.5rem;\n  text-align: center;\n  background-color: #f8f8f8; /* Light background for the message area */\n}\n\nheader,\nfooter {\n  padding: 1rem;\n  text-align: center;\n  background-color: #004466;\n  color: white;\n}\nbutton {\n  padding: 10px 20px;\n  font-size: 1rem;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\n@keyframes fillCell {\n  from {\n    background: #fff;\n  }\n  to {\n    background: var(--fill-color, #ffffff);\n  }\n}\n\n.gameboardCell {\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  animation: fillCell 0.8s forwards; /* Use the animation */\n}\n\n.gameboardCell:hover {\n  background-color: #e0e0e0 !important; /* Force this color on hover */\n}\n\n.green {\n  --fill-color: #4caf50;\n}\n\n.miss {\n  --fill-color: #ffeb3b;\n}\n\n.hit {\n  --fill-color: #d32f2f;\n}\n\n.gameboardCell.green:hover,\n.gameboardCell.miss:hover,\n.gameboardCell.hit:hover {\n  background-color: var(--fill-color) !important; /* Maintain state color on hover */\n}\n","",{version:3,sources:["webpack://./src/style.css"],names:[],mappings:"AAAA;;EAEE,aAAa;EACb,SAAS;EACT,UAAU;EACV,aAAa;EACb,iCAAiC;EACjC,8BAA8B;AAChC;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,qCAAqC;EACrC,SAAS;EACT,aAAa;EACb,qBAAqB;AACvB;;AAEA;EACE,aAAa;EACb,mCAAmC;EACnC,sCAAsC;EACtC,WAAW;EACX,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,mCAAmC;EACnC,sCAAsC;EACtC,WAAW;EACX,mBAAmB;EACnB,uBAAuB;AACzB;;AAEA;EACE,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,iBAAiB;EACjB,eAAe;EACf,kBAAkB;EAClB,yBAAyB,EAAE,0CAA0C;AACvE;;AAEA;;EAEE,aAAa;EACb,kBAAkB;EAClB,yBAAyB;EACzB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,eAAe;EACf,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE;IACE,gBAAgB;EAClB;EACA;IACE,sCAAsC;EACxC;AACF;;AAEA;EACE,sBAAsB;EACtB,aAAa;EACb,mBAAmB;EACnB,uBAAuB;EACvB,sBAAsB;EACtB,iCAAiC,EAAE,sBAAsB;AAC3D;;AAEA;EACE,oCAAoC,EAAE,8BAA8B;AACtE;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;;;EAGE,8CAA8C,EAAE,kCAAkC;AACpF",sourcesContent:["html,\nbody {\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  font-family: Arial, sans-serif;\n}\n\n.grid {\n  display: grid;\n}\n\n.gameBoards {\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 25px;\n  padding: 10px;\n  justify-items: center;\n}\n\n#gameboard1 {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  border: 3px solid black;\n}\n\n#gameboard2 {\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  border: 3px solid black;\n}\n\n.gameBoardContainer {\n  width: 80%;\n  aspect-ratio: 1 / 1;\n}\n\n#messages {\n  font-size: 1.5rem;\n  padding: 0.5rem;\n  text-align: center;\n  background-color: #f8f8f8; /* Light background for the message area */\n}\n\nheader,\nfooter {\n  padding: 1rem;\n  text-align: center;\n  background-color: #004466;\n  color: white;\n}\nbutton {\n  padding: 10px 20px;\n  font-size: 1rem;\n  cursor: pointer;\n  margin-top: 10px;\n}\n\n@keyframes fillCell {\n  from {\n    background: #fff;\n  }\n  to {\n    background: var(--fill-color, #ffffff);\n  }\n}\n\n.gameboardCell {\n  border: 1px solid #ddd;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #fff;\n  animation: fillCell 0.8s forwards; /* Use the animation */\n}\n\n.gameboardCell:hover {\n  background-color: #e0e0e0 !important; /* Force this color on hover */\n}\n\n.green {\n  --fill-color: #4caf50;\n}\n\n.miss {\n  --fill-color: #ffeb3b;\n}\n\n.hit {\n  --fill-color: #d32f2f;\n}\n\n.gameboardCell.green:hover,\n.gameboardCell.miss:hover,\n.gameboardCell.hit:hover {\n  background-color: var(--fill-color) !important; /* Maintain state color on hover */\n}\n"],sourceRoot:""}]),e.A=i},314:function(n){n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var d=0;d<n.length;d++){var c=[].concat(n[d]);r&&i[c[0]]||(void 0!==o&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=o),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),e.push(c))}},e}},354:function(n){n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},72:function(n){var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},i=[],s=0;s<n.length;s++){var l=n[s],d=r.base?l[0]+r.base:l[0],c=o[d]||0,A="".concat(d," ").concat(c);o[d]=c+1;var f=t(A),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)e[f].references++,e[f].updater(u);else{var m=a(u,r);r.byIndex=s,e.splice(s,0,{identifier:A,updater:m,references:1})}i.push(A)}return i}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=t(o[i]);e[s].references--}for(var l=r(n,a),d=0;d<o.length;d++){var c=t(o[d]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}o=l}}},659:function(n){var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:function(n){n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:function(n,e,t){n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:function(n){n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:function(n){n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,{a:e}),e},t.d=function(n,e){for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.nc=void 0,function(){var n=t(72),e=t.n(n),r=t(825),a=t.n(r),o=t(659),i=t.n(o),s=t(56),l=t.n(s),d=t(540),c=t.n(d),A=t(113),f=t.n(A),u=t(208),m={};m.styleTagTransform=f(),m.setAttributes=l(),m.insert=i().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=c(),e()(u.A,m),u.A&&u.A.locals&&u.A.locals;class p{constructor(n,e){this.length=n,this.hits=0,this.name=e}getLength(){return this.length}getHits(){return this.hits}hit(){this.hits+=1}isSunk(){return this.hits>=this.length}}function g(n){const{gameboard:e}=n.gameboard,t=n.isComputer?"gameboard2":"gameboard1",r=document.getElementById(t);r.innerHTML="";for(let t=0;t<n.gameboard.rows;t+=1)for(let a=0;a<n.gameboard.columns;a+=1){const o=document.createElement("div");o.classList.add("gameboardCell"),o.setAttribute("data-index",`${t}-${a}`),e[t][a]instanceof p?n.isComputer||o.classList.add("green"):"miss"===e[t][a]?o.classList.add("miss"):"hit"===e[t][a]&&o.classList.add("hit"),r.appendChild(o)}}function h(n){document.getElementById("messages").innerHTML=n}class C{constructor(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.rows=n,this.columns=e,this.gameboard=this.createGameboard(),this.missedShots=[],this.ships=[new p(5,"Carrier"),new p(4,"Battleship"),new p(3,"Destroyer"),new p(3,"Submarine"),new p(2,"PatrolBoat")]}createGameboard(){const n=[];for(let e=0;e<this.rows;e+=1)n[e]=new Array(this.columns).fill(null);return n}getGameboard(){return this.gameboard}placeShip(n,e,t){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!1===r){if(e>this.gameboard.length-1||t+n.length>this.gameboard.length-1||t<0||e<0)return!1}else if(e+n.length>this.gameboard.length-1||t>this.gameboard.length-1||t<0||e<0)return!1;if(!1===r){for(let r=0;r<n.length;r+=1)if(this.gameboard[e][t+r]instanceof p)return!1}else for(let r=0;r<n.length;r+=1)if(this.gameboard[e+r][t]instanceof p)return!1;if(r)for(let r=0;r<n.length;r+=1)this.gameboard[e+r][t]=n;else for(let r=0;r<n.length;r+=1)this.gameboard[e][t+r]=n;return!0}receiveAttack(n,e,t){if(this.gameboard[n][e]instanceof p){const r=this.gameboard[n][e];return r.hit(),h("Hit!"),r.isSunk()&&h(t.isComputer?`You have sunk the enemy ${r.name}!`:`Your ${r.name} has been sunk!`),this.gameboard[n][e]="hit",!0}return"hit"===this.gameboard[n][e]||"miss"===this.gameboard[n][e]?(h("That cell has already been fired at"),!1):(this.gameboard[n][e]="miss",h("Miss!"),!0)}allShipsSunk(){return this.ships.every((n=>n.isSunk()))}}class b{constructor(){let n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.gameboard=new C,this.isComputer=n}}function E(n){return{row:Math.floor(Math.random()*n.gameboard.rows),column:Math.floor(Math.random()*n.gameboard.columns),vertical:Math.random()>.5}}function v(n,e){e.forEach((e=>{let t;do{t=E(n,e.type.length)}while(!n.gameboard.placeShip(e.type,t.row,t.column,t.vertical))}))}function y(n,e){document.getElementById("gameboard2").querySelectorAll(".gameboardCell").forEach((t=>{t.addEventListener("click",(t=>function(n,e,t){const r=n.target.getAttribute("data-index").split("-"),a=parseInt(r[0],10),o=parseInt(r[1],10);if(document.getElementById("placeShips").disabled=!0,t.gameboard.receiveAttack(a,o,t))return t.gameboard.allShipsSunk()?(h("Player Wins!"),void g(t)):(g(t),void setTimeout((()=>{if(function(n){let e=!1;for(;!e;){const t=Math.floor(Math.random()*n.gameboard.rows),r=Math.floor(Math.random()*n.gameboard.columns);e=n.gameboard.receiveAttack(t,r,n)}}(e),e.gameboard.allShipsSunk())return h("Computer Wins!"),void g(e);g(e),y(e,t)}),600))}(t,n,e)))}))}!function n(){const e=new b(!1),t=new b(!0);document.getElementById("placeShips").onclick=()=>{n()},function(n,e){v(n,[{type:n.gameboard.ships[0]},{type:n.gameboard.ships[1]},{type:n.gameboard.ships[2]},{type:n.gameboard.ships[3]},{type:n.gameboard.ships[4]}]),v(e,[{type:e.gameboard.ships[0]},{type:e.gameboard.ships[1]},{type:e.gameboard.ships[2]},{type:e.gameboard.ships[3]},{type:e.gameboard.ships[4]}]),g(n),g(e)}(e,t),y(e,t)}()}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVVrQixNQUFNLElBQ3BDLENBQUVxQixLQUFNRSxFQUFZekMsVUFBVWtCLE1BQU0sSUFDcEMsQ0FBRXFCLEtBQU1FLEVBQVl6QyxVQUFVa0IsTUFBTSxJQUNwQyxDQUFFcUIsS0FBTUUsRUFBWXpDLFVBQVVrQixNQUFNLE1BRXRDa0IsRUFBb0JNLEVBQWdCLENBQ2xDLENBQUVILEtBQU1HLEVBQWUxQyxVQUFVa0IsTUFBTSxJQUN2QyxDQUFFcUIsS0FBTUcsRUFBZTFDLFVBQVVrQixNQUFNLElBQ3ZDLENBQUVxQixLQUFNRyxFQUFlMUMsVUFBVWtCLE1BQU0sSUFDdkMsQ0FBRXFCLEtBQU1HLEVBQWUxQyxVQUFVa0IsTUFBTSxJQUN2QyxDQUFFcUIsS0FBTUcsRUFBZTFDLFVBQVVrQixNQUFNLE1BR3pDcEIsRUFBaUIyQyxHQUNqQjNDLEVBQWlCNEMsRUFDbkIsQ0FxRUVnQixDQUFVakIsRUFBYUMsR0FDdkJGLEVBQXFCQyxFQUFhQyxFQUNwQyxDQzVHQWMsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9zdHlsZS5jc3M/NzE2MyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvc2hpcHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3JlbmRlckRvbS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wbGF5ZXJzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wbGF5R2FtZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCJodG1sLFxcbmJvZHkge1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xcbn1cXG5cXG4uZ3JpZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbn1cXG5cXG4uZ2FtZUJvYXJkcyB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcXG4gIGdhcDogMjVweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbiNnYW1lYm9hcmQxIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhc3BlY3QtcmF0aW86IDEgLyAxO1xcbiAgYm9yZGVyOiAzcHggc29saWQgYmxhY2s7XFxufVxcblxcbiNnYW1lYm9hcmQyIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhc3BlY3QtcmF0aW86IDEgLyAxO1xcbiAgYm9yZGVyOiAzcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5nYW1lQm9hcmRDb250YWluZXIge1xcbiAgd2lkdGg6IDgwJTtcXG4gIGFzcGVjdC1yYXRpbzogMSAvIDE7XFxufVxcblxcbiNtZXNzYWdlcyB7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gIHBhZGRpbmc6IDAuNXJlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7IC8qIExpZ2h0IGJhY2tncm91bmQgZm9yIHRoZSBtZXNzYWdlIGFyZWEgKi9cXG59XFxuXFxuaGVhZGVyLFxcbmZvb3RlciB7XFxuICBwYWRkaW5nOiAxcmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNDQ2NjtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxufVxcblxcbkBrZXlmcmFtZXMgZmlsbENlbGwge1xcbiAgZnJvbSB7XFxuICAgIGJhY2tncm91bmQ6ICNmZmY7XFxuICB9XFxuICB0byB7XFxuICAgIGJhY2tncm91bmQ6IHZhcigtLWZpbGwtY29sb3IsICNmZmZmZmYpO1xcbiAgfVxcbn1cXG5cXG4uZ2FtZWJvYXJkQ2VsbCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBhbmltYXRpb246IGZpbGxDZWxsIDAuOHMgZm9yd2FyZHM7IC8qIFVzZSB0aGUgYW5pbWF0aW9uICovXFxufVxcblxcbi5nYW1lYm9hcmRDZWxsOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTAgIWltcG9ydGFudDsgLyogRm9yY2UgdGhpcyBjb2xvciBvbiBob3ZlciAqL1xcbn1cXG5cXG4uZ3JlZW4ge1xcbiAgLS1maWxsLWNvbG9yOiAjNGNhZjUwO1xcbn1cXG5cXG4ubWlzcyB7XFxuICAtLWZpbGwtY29sb3I6ICNmZmViM2I7XFxufVxcblxcbi5oaXQge1xcbiAgLS1maWxsLWNvbG9yOiAjZDMyZjJmO1xcbn1cXG5cXG4uZ2FtZWJvYXJkQ2VsbC5ncmVlbjpob3ZlcixcXG4uZ2FtZWJvYXJkQ2VsbC5taXNzOmhvdmVyLFxcbi5nYW1lYm9hcmRDZWxsLmhpdDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1maWxsLWNvbG9yKSAhaW1wb3J0YW50OyAvKiBNYWludGFpbiBzdGF0ZSBjb2xvciBvbiBob3ZlciAqL1xcbn1cXG5cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGUuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOztFQUVFLGFBQWE7RUFDYixTQUFTO0VBQ1QsVUFBVTtFQUNWLGFBQWE7RUFDYixpQ0FBaUM7RUFDakMsOEJBQThCO0FBQ2hDOztBQUVBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsYUFBYTtFQUNiLHFDQUFxQztFQUNyQyxTQUFTO0VBQ1QsYUFBYTtFQUNiLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGFBQWE7RUFDYixtQ0FBbUM7RUFDbkMsc0NBQXNDO0VBQ3RDLFdBQVc7RUFDWCxtQkFBbUI7RUFDbkIsdUJBQXVCO0FBQ3pCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1DQUFtQztFQUNuQyxzQ0FBc0M7RUFDdEMsV0FBVztFQUNYLG1CQUFtQjtFQUNuQix1QkFBdUI7QUFDekI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0UsaUJBQWlCO0VBQ2pCLGVBQWU7RUFDZixrQkFBa0I7RUFDbEIseUJBQXlCLEVBQUUsMENBQTBDO0FBQ3ZFOztBQUVBOztFQUVFLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDtBQUNBO0VBQ0Usa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixlQUFlO0VBQ2YsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0U7SUFDRSxnQkFBZ0I7RUFDbEI7RUFDQTtJQUNFLHNDQUFzQztFQUN4QztBQUNGOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0QixpQ0FBaUMsRUFBRSxzQkFBc0I7QUFDM0Q7O0FBRUE7RUFDRSxvQ0FBb0MsRUFBRSw4QkFBOEI7QUFDdEU7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7OztFQUdFLDhDQUE4QyxFQUFFLGtDQUFrQztBQUNwRlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJodG1sLFxcbmJvZHkge1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xcbn1cXG5cXG4uZ3JpZCB7XFxuICBkaXNwbGF5OiBncmlkO1xcbn1cXG5cXG4uZ2FtZUJvYXJkcyB7XFxuICBkaXNwbGF5OiBncmlkO1xcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTtcXG4gIGdhcDogMjVweDtcXG4gIHBhZGRpbmc6IDEwcHg7XFxuICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbiNnYW1lYm9hcmQxIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhc3BlY3QtcmF0aW86IDEgLyAxO1xcbiAgYm9yZGVyOiAzcHggc29saWQgYmxhY2s7XFxufVxcblxcbiNnYW1lYm9hcmQyIHtcXG4gIGRpc3BsYXk6IGdyaWQ7XFxuICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMWZyKTtcXG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAxZnIpO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBhc3BlY3QtcmF0aW86IDEgLyAxO1xcbiAgYm9yZGVyOiAzcHggc29saWQgYmxhY2s7XFxufVxcblxcbi5nYW1lQm9hcmRDb250YWluZXIge1xcbiAgd2lkdGg6IDgwJTtcXG4gIGFzcGVjdC1yYXRpbzogMSAvIDE7XFxufVxcblxcbiNtZXNzYWdlcyB7XFxuICBmb250LXNpemU6IDEuNXJlbTtcXG4gIHBhZGRpbmc6IDAuNXJlbTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY4Zjg7IC8qIExpZ2h0IGJhY2tncm91bmQgZm9yIHRoZSBtZXNzYWdlIGFyZWEgKi9cXG59XFxuXFxuaGVhZGVyLFxcbmZvb3RlciB7XFxuICBwYWRkaW5nOiAxcmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNDQ2NjtcXG4gIGNvbG9yOiB3aGl0ZTtcXG59XFxuYnV0dG9uIHtcXG4gIHBhZGRpbmc6IDEwcHggMjBweDtcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIG1hcmdpbi10b3A6IDEwcHg7XFxufVxcblxcbkBrZXlmcmFtZXMgZmlsbENlbGwge1xcbiAgZnJvbSB7XFxuICAgIGJhY2tncm91bmQ6ICNmZmY7XFxuICB9XFxuICB0byB7XFxuICAgIGJhY2tncm91bmQ6IHZhcigtLWZpbGwtY29sb3IsICNmZmZmZmYpO1xcbiAgfVxcbn1cXG5cXG4uZ2FtZWJvYXJkQ2VsbCB7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGRkO1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBhbmltYXRpb246IGZpbGxDZWxsIDAuOHMgZm9yd2FyZHM7IC8qIFVzZSB0aGUgYW5pbWF0aW9uICovXFxufVxcblxcbi5nYW1lYm9hcmRDZWxsOmhvdmVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNlMGUwZTAgIWltcG9ydGFudDsgLyogRm9yY2UgdGhpcyBjb2xvciBvbiBob3ZlciAqL1xcbn1cXG5cXG4uZ3JlZW4ge1xcbiAgLS1maWxsLWNvbG9yOiAjNGNhZjUwO1xcbn1cXG5cXG4ubWlzcyB7XFxuICAtLWZpbGwtY29sb3I6ICNmZmViM2I7XFxufVxcblxcbi5oaXQge1xcbiAgLS1maWxsLWNvbG9yOiAjZDMyZjJmO1xcbn1cXG5cXG4uZ2FtZWJvYXJkQ2VsbC5ncmVlbjpob3ZlcixcXG4uZ2FtZWJvYXJkQ2VsbC5taXNzOmhvdmVyLFxcbi5nYW1lYm9hcmRDZWxsLmhpdDpob3ZlciB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1maWxsLWNvbG9yKSAhaW1wb3J0YW50OyAvKiBNYWludGFpbiBzdGF0ZSBjb2xvciBvbiBob3ZlciAqL1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG5cdFx0ZnVuY3Rpb24oKSB7IHJldHVybiBtb2R1bGU7IH07XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoaXAge1xuICBjb25zdHJ1Y3RvcihsZW5ndGgsIG5hbWUpIHtcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLmhpdHMgPSAwO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gIH1cblxuICBnZXRMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMubGVuZ3RoO1xuICB9XG5cbiAgZ2V0SGl0cygpIHtcbiAgICByZXR1cm4gdGhpcy5oaXRzO1xuICB9XG5cbiAgaGl0KCkge1xuICAgIHRoaXMuaGl0cyArPSAxO1xuICB9XG5cbiAgaXNTdW5rKCkge1xuICAgIGlmICh0aGlzLmhpdHMgPj0gdGhpcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsImltcG9ydCBTaGlwIGZyb20gJy4vc2hpcHMnO1xuXG5mdW5jdGlvbiByZW5kZXJHYW1lYm9hcmRzKHBsYXllcikge1xuICAvLyBHZXQgdGhlIGFwcHJvcHJpYXRlIGdhbWVib2FyZCBhbmQgY29udGFpbmVyIGJhc2VkIG9uIHBsYXllciB0eXBlXG4gIGNvbnN0IHsgZ2FtZWJvYXJkIH0gPSBwbGF5ZXIuZ2FtZWJvYXJkO1xuICBjb25zdCBnYW1lYm9hcmRDb250YWluZXJJZCA9IHBsYXllci5pc0NvbXB1dGVyID8gJ2dhbWVib2FyZDInIDogJ2dhbWVib2FyZDEnO1xuICBjb25zdCBnYW1lYm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChnYW1lYm9hcmRDb250YWluZXJJZCk7XG5cbiAgLy8gQ2xlYXIgcHJldmlvdXMgZ2FtZWJvYXJkIGNvbnRlbnRcbiAgZ2FtZWJvYXJkQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gIC8vIEl0ZXJhdGUgdGhyb3VnaCBlYWNoIGNlbGwgaW4gdGhlIGdhbWVib2FyZFxuICBmb3IgKGxldCBpID0gMDsgaSA8IHBsYXllci5nYW1lYm9hcmQucm93czsgaSArPSAxKSB7XG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBwbGF5ZXIuZ2FtZWJvYXJkLmNvbHVtbnM7IGogKz0gMSkge1xuICAgICAgY29uc3QgZ2FtZWJvYXJkQ2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgZ2FtZWJvYXJkQ2VsbC5jbGFzc0xpc3QuYWRkKCdnYW1lYm9hcmRDZWxsJyk7XG4gICAgICBnYW1lYm9hcmRDZWxsLnNldEF0dHJpYnV0ZSgnZGF0YS1pbmRleCcsIGAke2l9LSR7an1gKTtcblxuICAgICAgLy8gQ2hlY2sgdGhlIHN0YXR1cyBvZiBlYWNoIGNlbGwgYW5kIGFwcGx5IHRoZSBhcHByb3ByaWF0ZSBjbGFzc1xuICAgICAgaWYgKGdhbWVib2FyZFtpXVtqXSBpbnN0YW5jZW9mIFNoaXApIHtcbiAgICAgICAgLy8gQ29sb3IgY2VsbHMgY29udGFpbmluZyBzaGlwcyBkaWZmZXJlbnRseSBiYXNlZCBvbiBwbGF5ZXIgdHlwZVxuICAgICAgICBpZiAoIXBsYXllci5pc0NvbXB1dGVyKSB7XG4gICAgICAgICAgZ2FtZWJvYXJkQ2VsbC5jbGFzc0xpc3QuYWRkKCdncmVlbicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGdhbWVib2FyZFtpXVtqXSA9PT0gJ21pc3MnKSB7XG4gICAgICAgIGdhbWVib2FyZENlbGwuY2xhc3NMaXN0LmFkZCgnbWlzcycpO1xuICAgICAgfSBlbHNlIGlmIChnYW1lYm9hcmRbaV1bal0gPT09ICdoaXQnKSB7XG4gICAgICAgIGdhbWVib2FyZENlbGwuY2xhc3NMaXN0LmFkZCgnaGl0Jyk7XG4gICAgICB9XG5cbiAgICAgIC8vIEFwcGVuZCB0aGUgY2VsbCB0byB0aGUgY29udGFpbmVyXG4gICAgICBnYW1lYm9hcmRDb250YWluZXIuYXBwZW5kQ2hpbGQoZ2FtZWJvYXJkQ2VsbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoYW5nZU1lc3NhZ2UobWVzc2FnZSkge1xuICBjb25zdCBtZXNzYWdlRGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXNzYWdlcycpO1xuXG4gIG1lc3NhZ2VEaXNwbGF5LmlubmVySFRNTCA9IG1lc3NhZ2U7XG59XG5cbmV4cG9ydCB7IHJlbmRlckdhbWVib2FyZHMsIGNoYW5nZU1lc3NhZ2UgfTtcbiIsImltcG9ydCBTaGlwIGZyb20gJy4vc2hpcHMnO1xuaW1wb3J0IHsgY2hhbmdlTWVzc2FnZSB9IGZyb20gJy4vcmVuZGVyRG9tJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZWJvYXJkIHtcbiAgY29uc3RydWN0b3Iocm93cyA9IDEwLCBjb2x1bW5zID0gMTApIHtcbiAgICB0aGlzLnJvd3MgPSByb3dzO1xuICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgdGhpcy5nYW1lYm9hcmQgPSB0aGlzLmNyZWF0ZUdhbWVib2FyZCgpO1xuICAgIHRoaXMubWlzc2VkU2hvdHMgPSBbXTtcbiAgICB0aGlzLnNoaXBzID0gW1xuICAgICAgbmV3IFNoaXAoNSwgJ0NhcnJpZXInKSxcbiAgICAgIG5ldyBTaGlwKDQsICdCYXR0bGVzaGlwJyksXG4gICAgICBuZXcgU2hpcCgzLCAnRGVzdHJveWVyJyksXG4gICAgICBuZXcgU2hpcCgzLCAnU3VibWFyaW5lJyksXG4gICAgICBuZXcgU2hpcCgyLCAnUGF0cm9sQm9hdCcpLFxuICAgIF07XG4gIH1cblxuICBjcmVhdGVHYW1lYm9hcmQoKSB7XG4gICAgY29uc3QgYm9hcmQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucm93czsgaSArPSAxKSB7XG4gICAgICBib2FyZFtpXSA9IG5ldyBBcnJheSh0aGlzLmNvbHVtbnMpLmZpbGwobnVsbCk7IC8vIEZpbGwgd2l0aCBudWxsLCBvciBhbm90aGVyIGRlZmF1bHQgdmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIGJvYXJkO1xuICB9XG5cbiAgZ2V0R2FtZWJvYXJkKCkge1xuICAgIHJldHVybiB0aGlzLmdhbWVib2FyZDtcbiAgfVxuXG4gIHBsYWNlU2hpcChzaGlwLCByb3csIGNvbHVtbiwgdmVydGljYWwgPSB0cnVlKSB7XG4gICAgLy8gSWYgc2hpcCB3b3VsZCBiZSBvdXQgb2YgYm91bmRzIHdoZW4gcGxhY2VkLCByZXR1cm4gZmFsc2VcbiAgICBpZiAodmVydGljYWwgPT09IGZhbHNlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHJvdyA+IHRoaXMuZ2FtZWJvYXJkLmxlbmd0aCAtIDEgfHxcbiAgICAgICAgY29sdW1uICsgc2hpcC5sZW5ndGggPiB0aGlzLmdhbWVib2FyZC5sZW5ndGggLSAxIHx8XG4gICAgICAgIGNvbHVtbiA8IDAgfHxcbiAgICAgICAgcm93IDwgMFxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKFxuICAgICAgcm93ICsgc2hpcC5sZW5ndGggPiB0aGlzLmdhbWVib2FyZC5sZW5ndGggLSAxIHx8XG4gICAgICBjb2x1bW4gPiB0aGlzLmdhbWVib2FyZC5sZW5ndGggLSAxIHx8XG4gICAgICBjb2x1bW4gPCAwIHx8XG4gICAgICByb3cgPCAwXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElmIHNoaXAgd291bGQgb3ZlcmxhcCB3aXRoIGFub3RoZXIgc2hpcCwgcmV0dXJuIGZhbHNlXG4gICAgaWYgKHZlcnRpY2FsID09PSBmYWxzZSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmICh0aGlzLmdhbWVib2FyZFtyb3ddW2NvbHVtbiArIGldIGluc3RhbmNlb2YgU2hpcCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2FtZWJvYXJkW3JvdyArIGldW2NvbHVtbl0gaW5zdGFuY2VvZiBTaGlwKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFBsYWNlIHNoaXBcbiAgICBpZiAodmVydGljYWwpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB0aGlzLmdhbWVib2FyZFtyb3cgKyBpXVtjb2x1bW5dID0gc2hpcDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHRoaXMuZ2FtZWJvYXJkW3Jvd11bY29sdW1uICsgaV0gPSBzaGlwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJlY2VpdmVBdHRhY2socm93LCBjb2x1bW4sIHBsYXllcikge1xuICAgIGlmICh0aGlzLmdhbWVib2FyZFtyb3ddW2NvbHVtbl0gaW5zdGFuY2VvZiBTaGlwKSB7XG4gICAgICBjb25zdCBzaGlwID0gdGhpcy5nYW1lYm9hcmRbcm93XVtjb2x1bW5dO1xuICAgICAgc2hpcC5oaXQoKTtcbiAgICAgIGNoYW5nZU1lc3NhZ2UoJ0hpdCEnKTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNoaXAgaXMgc3VuayBhbmQgcHJvdmlkZSBmZWVkYmFja1xuICAgICAgaWYgKHNoaXAuaXNTdW5rKCkpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHBsYXllci5pc0NvbXB1dGVyXG4gICAgICAgICAgPyBgWW91IGhhdmUgc3VuayB0aGUgZW5lbXkgJHtzaGlwLm5hbWV9IWBcbiAgICAgICAgICA6IGBZb3VyICR7c2hpcC5uYW1lfSBoYXMgYmVlbiBzdW5rIWA7XG4gICAgICAgIGNoYW5nZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFVwZGF0ZSB0aGUgY2VsbCBzdGF0ZSB0byAnaGl0JyBmb3IgdmlzdWFsIGZlZWRiYWNrXG4gICAgICB0aGlzLmdhbWVib2FyZFtyb3ddW2NvbHVtbl0gPSAnaGl0JztcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodGhpcy5nYW1lYm9hcmRbcm93XVtjb2x1bW5dID09PSAnaGl0JyB8fCB0aGlzLmdhbWVib2FyZFtyb3ddW2NvbHVtbl0gPT09ICdtaXNzJykge1xuICAgICAgY2hhbmdlTWVzc2FnZSgnVGhhdCBjZWxsIGhhcyBhbHJlYWR5IGJlZW4gZmlyZWQgYXQnKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgLy8gTWFyayB0aGUgY2VsbCBhcyAnbWlzcycgaWYgdGhlcmUgaXMgbm8gc2hpcFxuICAgIHRoaXMuZ2FtZWJvYXJkW3Jvd11bY29sdW1uXSA9ICdtaXNzJztcbiAgICBjaGFuZ2VNZXNzYWdlKCdNaXNzIScpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgYWxsU2hpcHNTdW5rKCkge1xuICAgIHJldHVybiB0aGlzLnNoaXBzLmV2ZXJ5KChzaGlwKSA9PiBzaGlwLmlzU3VuaygpKTtcbiAgfVxufVxuIiwiaW1wb3J0IEdhbWVib2FyZCBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IgKGlzQ29tcHV0ZXIgPSBmYWxzZSkge1xuICAgIHRoaXMuZ2FtZWJvYXJkID0gbmV3IEdhbWVib2FyZCgpXG4gICAgdGhpcy5pc0NvbXB1dGVyID0gaXNDb21wdXRlcjtcbiAgfVxufVxuXG4iLCJpbXBvcnQgUGxheWVyIGZyb20gJy4vcGxheWVycyc7XG5pbXBvcnQgeyBjaGFuZ2VNZXNzYWdlLCByZW5kZXJHYW1lYm9hcmRzIH0gZnJvbSAnLi9yZW5kZXJEb20nO1xuXG5mdW5jdGlvbiByYW5kb21TaGlwUG9zaXRpb24ocGxheWVyKSB7XG4gIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBsYXllci5nYW1lYm9hcmQucm93cyk7XG4gIGNvbnN0IGNvbHVtbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBsYXllci5nYW1lYm9hcmQuY29sdW1ucyk7XG4gIGNvbnN0IHZlcnRpY2FsID0gTWF0aC5yYW5kb20oKSA+IDAuNTsgLy8gUmFuZG9tbHkgZGVjaWRlIGlmIHRoZSBzaGlwIHNob3VsZCBiZSB2ZXJ0aWNhbFxuXG4gIHJldHVybiB7IHJvdywgY29sdW1uLCB2ZXJ0aWNhbCB9O1xufVxuXG5mdW5jdGlvbiBkZWZpbmVTaGlwUG9zaXRpb25zKHBsYXllciwgc2hpcHMpIHtcbiAgc2hpcHMuZm9yRWFjaCgoc2hpcCkgPT4ge1xuICAgIGxldCBwb3NpdGlvbjtcbiAgICBkbyB7XG4gICAgICBwb3NpdGlvbiA9IHJhbmRvbVNoaXBQb3NpdGlvbihwbGF5ZXIsIHNoaXAudHlwZS5sZW5ndGgpO1xuICAgIH0gd2hpbGUgKFxuICAgICAgIXBsYXllci5nYW1lYm9hcmQucGxhY2VTaGlwKHNoaXAudHlwZSwgcG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4sIHBvc2l0aW9uLnZlcnRpY2FsKVxuICAgICk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXR1cEdhbWUoaHVtYW5QbGF5ZXIsIGNvbXB1dGVyUGxheWVyKSB7XG4gIGRlZmluZVNoaXBQb3NpdGlvbnMoaHVtYW5QbGF5ZXIsIFtcbiAgICB7IHR5cGU6IGh1bWFuUGxheWVyLmdhbWVib2FyZC5zaGlwc1swXSB9LFxuICAgIHsgdHlwZTogaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzWzFdIH0sXG4gICAgeyB0eXBlOiBodW1hblBsYXllci5nYW1lYm9hcmQuc2hpcHNbMl0gfSxcbiAgICB7IHR5cGU6IGh1bWFuUGxheWVyLmdhbWVib2FyZC5zaGlwc1szXSB9LFxuICAgIHsgdHlwZTogaHVtYW5QbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzWzRdIH0sXG4gIF0pO1xuICBkZWZpbmVTaGlwUG9zaXRpb25zKGNvbXB1dGVyUGxheWVyLCBbXG4gICAgeyB0eXBlOiBjb21wdXRlclBsYXllci5nYW1lYm9hcmQuc2hpcHNbMF0gfSxcbiAgICB7IHR5cGU6IGNvbXB1dGVyUGxheWVyLmdhbWVib2FyZC5zaGlwc1sxXSB9LFxuICAgIHsgdHlwZTogY29tcHV0ZXJQbGF5ZXIuZ2FtZWJvYXJkLnNoaXBzWzJdIH0sXG4gICAgeyB0eXBlOiBjb21wdXRlclBsYXllci5nYW1lYm9hcmQuc2hpcHNbM10gfSxcbiAgICB7IHR5cGU6IGNvbXB1dGVyUGxheWVyLmdhbWVib2FyZC5zaGlwc1s0XSB9LFxuICBdKTtcblxuICByZW5kZXJHYW1lYm9hcmRzKGh1bWFuUGxheWVyKTtcbiAgcmVuZGVyR2FtZWJvYXJkcyhjb21wdXRlclBsYXllcik7XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVyQ291bnRlckF0dGFjayhodW1hblBsYXllcikge1xuICBsZXQgc3VjY2VzcyA9IGZhbHNlOyAvLyBUbyBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgdGhlIGF0dGFjayB3YXMgc3VjY2Vzc2Z1bFxuXG4gIHdoaWxlICghc3VjY2Vzcykge1xuICAgIGNvbnN0IHJvdyA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGh1bWFuUGxheWVyLmdhbWVib2FyZC5yb3dzKTtcbiAgICBjb25zdCBjb2x1bW4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBodW1hblBsYXllci5nYW1lYm9hcmQuY29sdW1ucyk7XG5cbiAgICAvLyBBdHRlbXB0IHRvIGF0dGFjazsgcmVjZWl2ZUF0dGFjayBzaG91bGQgcmV0dXJuIHRydWUgaWYgdGhlIGF0dGFjayB3YXMgdmFsaWQgYW5kIHByb2Nlc3NlZFxuICAgIHN1Y2Nlc3MgPSBodW1hblBsYXllci5nYW1lYm9hcmQucmVjZWl2ZUF0dGFjayhyb3csIGNvbHVtbiwgaHVtYW5QbGF5ZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGF0dGFjaEV2ZW50TGlzdGVuZXJzKGh1bWFuUGxheWVyLCBjb21wdXRlclBsYXllcikge1xuICBjb25zdCBnYW1lYm9hcmRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FtZWJvYXJkMicpO1xuICBjb25zdCBjZWxscyA9IGdhbWVib2FyZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuZ2FtZWJvYXJkQ2VsbCcpO1xuICBjZWxscy5mb3JFYWNoKChjZWxsKSA9PiB7XG4gICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4gaGFuZGxlQ2VsbENsaWNrKGV2ZW50LCBodW1hblBsYXllciwgY29tcHV0ZXJQbGF5ZXIpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNlbGxDbGljayhldmVudCwgaHVtYW5QbGF5ZXIsIGNvbXB1dGVyUGxheWVyKSB7XG4gIGNvbnN0IGRhdGFJbmRleCA9IGV2ZW50LnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKTtcbiAgY29uc3QgcGFydHMgPSBkYXRhSW5kZXguc3BsaXQoJy0nKTtcbiAgY29uc3Qgcm93ID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcbiAgY29uc3QgY29sdW1uID0gcGFyc2VJbnQocGFydHNbMV0sIDEwKTtcbiAgY29uc3QgcGxhY2VTaGlwc0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGFjZVNoaXBzJyk7XG5cbiAgcGxhY2VTaGlwc0J0bi5kaXNhYmxlZCA9IHRydWU7IC8vIGRpc2FibGUgdGhlIGJ1dHRvblxuXG4gIC8vIFBsYXllciBhdHRhY2tzIGNvbXB1dGVyXG4gIGlmICghY29tcHV0ZXJQbGF5ZXIuZ2FtZWJvYXJkLnJlY2VpdmVBdHRhY2socm93LCBjb2x1bW4sIGNvbXB1dGVyUGxheWVyKSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChjb21wdXRlclBsYXllci5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcbiAgICBjaGFuZ2VNZXNzYWdlKCdQbGF5ZXIgV2lucyEnKTtcbiAgICByZW5kZXJHYW1lYm9hcmRzKGNvbXB1dGVyUGxheWVyKTtcbiAgICByZXR1cm47XG4gIH1cblxuICByZW5kZXJHYW1lYm9hcmRzKGNvbXB1dGVyUGxheWVyKTtcblxuICAvLyBDb21wdXRlciBjb3VudGVyYXR0YWNrc1xuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb21wdXRlckNvdW50ZXJBdHRhY2soaHVtYW5QbGF5ZXIpO1xuICAgIGlmIChodW1hblBsYXllci5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcbiAgICAgIGNoYW5nZU1lc3NhZ2UoJ0NvbXB1dGVyIFdpbnMhJyk7XG4gICAgICByZW5kZXJHYW1lYm9hcmRzKGh1bWFuUGxheWVyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVuZGVyR2FtZWJvYXJkcyhodW1hblBsYXllcik7IC8vIEFzc3VtaW5nIHlvdSB3YW50IHRvIHVwZGF0ZSBodW1hbidzIGJvYXJkIHRvIHNob3cgaGl0cy9taXNzZXNcbiAgICBhdHRhY2hFdmVudExpc3RlbmVycyhodW1hblBsYXllciwgY29tcHV0ZXJQbGF5ZXIpO1xuICB9LCA2MDApOyAvLyBEZWxheSB0byBzaW11bGF0ZSB0aGluayB0aW1lXG59XG5cbmZ1bmN0aW9uIHN0YXJ0R2FtZSgpIHtcbiAgY29uc3QgaHVtYW5QbGF5ZXIgPSBuZXcgUGxheWVyKGZhbHNlKTtcbiAgY29uc3QgY29tcHV0ZXJQbGF5ZXIgPSBuZXcgUGxheWVyKHRydWUpO1xuXG4gIGNvbnN0IHBsYWNlU2hpcHNCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxhY2VTaGlwcycpO1xuXG4gIC8vIEltcHJvdmVkIGJ1dHRvbiBldmVudCBoYW5kbGluZyB0byBwcmV2ZW50IGR1cGxpY2F0ZSBldmVudCBsaXN0ZW5lcnNcbiAgcGxhY2VTaGlwc0J0bi5vbmNsaWNrID0gKCkgPT4ge1xuICAgIC8vIFVzaW5nIC5vbmNsaWNrIHRvIGF1dG9tYXRpY2FsbHkgaGFuZGxlIHJlbW92aW5nIG9sZCBsaXN0ZW5lcnNcbiAgICBzdGFydEdhbWUoKTtcbiAgfTtcblxuICBzZXR1cEdhbWUoaHVtYW5QbGF5ZXIsIGNvbXB1dGVyUGxheWVyKTsgLy8gSW5pdGlhbGl6ZSB0aGUgZ2FtZSBzZXR1cFxuICBhdHRhY2hFdmVudExpc3RlbmVycyhodW1hblBsYXllciwgY29tcHV0ZXJQbGF5ZXIpOyAvLyBBdHRhY2ggZ2FtZSBpbnRlcmFjdGlvbiBsaXN0ZW5lcnNcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RhcnRHYW1lO1xuIiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgc3RhcnRHYW1lIGZyb20gJy4vcGxheUdhbWUnO1xuXG5zdGFydEdhbWUoKTtcbiJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJsb2NhbHMiLCJTaGlwIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiaGl0cyIsImdldExlbmd0aCIsImdldEhpdHMiLCJoaXQiLCJpc1N1bmsiLCJyZW5kZXJHYW1lYm9hcmRzIiwicGxheWVyIiwiZ2FtZWJvYXJkIiwiZ2FtZWJvYXJkQ29udGFpbmVySWQiLCJpc0NvbXB1dGVyIiwiZ2FtZWJvYXJkQ29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJpbm5lckhUTUwiLCJyb3dzIiwiaiIsImNvbHVtbnMiLCJnYW1lYm9hcmRDZWxsIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2hhbmdlTWVzc2FnZSIsIm1lc3NhZ2UiLCJHYW1lYm9hcmQiLCJhcmd1bWVudHMiLCJjcmVhdGVHYW1lYm9hcmQiLCJtaXNzZWRTaG90cyIsInNoaXBzIiwiYm9hcmQiLCJBcnJheSIsImZpbGwiLCJnZXRHYW1lYm9hcmQiLCJwbGFjZVNoaXAiLCJzaGlwIiwicm93IiwiY29sdW1uIiwidmVydGljYWwiLCJyZWNlaXZlQXR0YWNrIiwiYWxsU2hpcHNTdW5rIiwiZXZlcnkiLCJQbGF5ZXIiLCJyYW5kb21TaGlwUG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJkZWZpbmVTaGlwUG9zaXRpb25zIiwiZm9yRWFjaCIsInBvc2l0aW9uIiwidHlwZSIsImF0dGFjaEV2ZW50TGlzdGVuZXJzIiwiaHVtYW5QbGF5ZXIiLCJjb21wdXRlclBsYXllciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjZWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicGFydHMiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsInBhcnNlSW50IiwiZGlzYWJsZWQiLCJzZXRUaW1lb3V0Iiwic3VjY2VzcyIsImNvbXB1dGVyQ291bnRlckF0dGFjayIsImhhbmRsZUNlbGxDbGljayIsInN0YXJ0R2FtZSIsIm9uY2xpY2siLCJzZXR1cEdhbWUiXSwic291cmNlUm9vdCI6IiJ9